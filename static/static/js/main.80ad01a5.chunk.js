(window.webpackJsonpphonebook=window.webpackJsonpphonebook||[]).push([[0],{16:function(e,n,t){e.exports=t(40)},21:function(e,n,t){},22:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(14),o=t.n(c),u=(t(21),t(15)),i=t(4),l=t(3),m=(t(22),function(e){var n=e.searchString,t=e.onChange;return a.a.createElement("div",null,a.a.createElement("input",{placeholder:"Search by name",value:n,onChange:t}))}),f=function(e){var n=e.handleSubmit,t=e.handleInputChange,r=e.newPerson;return a.a.createElement("div",null,a.a.createElement("h3",null,"Add new"),a.a.createElement("form",{onSubmit:n},a.a.createElement("div",null,a.a.createElement("div",null,"name:"," ",a.a.createElement("input",{value:r.name,name:"name",onChange:t})),a.a.createElement("div",null,"number:"," ",a.a.createElement("input",{value:r.number,name:"number",onChange:t}))),a.a.createElement("div",null,a.a.createElement("button",{type:"submit"},"add"))))},s=function(e){var n=e.filteredList,t=e.handleClick,r=n.map(function(e){return a.a.createElement("div",{key:e.id},e.name," ",e.number,a.a.createElement("button",{onClick:function(){return t(e.id)}},"Delete"))});return a.a.createElement("div",null,a.a.createElement("h2",null,"Numbers"),r)},d=t(2),b=t.n(d),p="/api/persons",h=function(){return b.a.get(p).then(function(e){return e.data})},g=function(e){return b.a.post(p,e).then(function(e){return e.data})},v=function(e){return b.a.delete("".concat(p,"/").concat(e)).then(function(e){return e})},y=function(e){return b.a.put("".concat(p,"/").concat(e.id),e).then(function(e){return e.data})},E=function(e){var n=e.notification,t="error"===n.type?"red":"green",r={color:t,border:"3px solid ".concat(t),display:"inline-block",padding:10,fontStyle:"italic",fontSize:16};return n.msg?a.a.createElement("div",{style:r},n.msg):null};function O(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?O(t,!0).forEach(function(n){Object(i.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var j=function(){var e=Object(r.useState)([]),n=Object(l.a)(e,2),t=n[0],c=n[1],o=Object(r.useState)({name:"",number:""}),d=Object(l.a)(o,2),b=d[0],p=d[1],O=Object(r.useState)(""),j=Object(l.a)(O,2),C=j[0],S=j[1],k=Object(r.useState)({msg:"",type:""}),P=Object(l.a)(k,2),D=P[0],L=P[1];Object(r.useEffect)(function(){h().then(function(e){c(e)})},[]);var I=t.filter(function(e){return e.name.toLowerCase().includes(C.toLowerCase())});return a.a.createElement("div",null,a.a.createElement("h2",null,"Phonebook"),a.a.createElement(E,{notification:D}),a.a.createElement(m,{onChange:function(e){S(e.target.value)},searchString:C}),a.a.createElement(f,{handleInputChange:function(e){p(w({},b,Object(i.a)({},e.target.name,e.target.value)))},handleSubmit:function(e){e.preventDefault();var n=t.find(function(e){return e.name.toLowerCase()===b.name.toLowerCase()});if(n)window.confirm("".concat(b.name," is already added to the phonebook, replace the old number with a new one?"))&&y(w({},n,{number:b.number})).then(function(e){var n=t.findIndex(function(n){return n.id===e.id}),r=Object(u.a)(t);L({msg:"Changed ".concat(e.name,"'s number"),type:"success"}),setTimeout(function(){L({msg:"",type:""})},5e3),r.splice(n,1,e),c(r)}).catch(function(e){L({msg:"".concat(b.name," has already been removed from the server"),type:"error"}),setTimeout(function(){L({msg:"",type:""})},5e3)});else{var r=w({},b);g(r).then(function(e){c(t.concat(e)),p({name:"",number:""}),L({msg:"Added ".concat(e.name),type:"success"}),setTimeout(function(){L({msg:"",type:""})},5e3)})}},newPerson:b}),a.a.createElement(s,{filteredList:I,handleClick:function(e){var n=t.find(function(n){return n.id===e});window.confirm("Delete ".concat(n.name,"?"))&&v(e).then(function(n){c(t.filter(function(n){return n.id!==e}))}).catch(function(e){console.log(e)})}}))};o.a.render(a.a.createElement(j,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.80ad01a5.chunk.js.map