{"version":3,"sources":["components/Search.js","components/Form.js","components/Numbers.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Search","searchString","onChange","placeholder","value","Form","handleSubmit","handleInputChange","newPerson","onSubmit","name","number","type","Numbers","filteredList","handleClick","listToShow","map","person","key","id","onClick","baseUrl","axios","get","then","response","data","post","delete","put","Notification","notification","msgType","style","color","border","display","padding","fontStyle","fontSize","msg","App","useState","persons","setPersons","setNewPerson","setSearchString","eventMsg","setEventMsg","useEffect","personsService","filter","toLowerCase","includes","event","target","e","preventDefault","find","window","confirm","index","findIndex","el","newPersons","setTimeout","splice","catch","newItem","concat","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8aacd535.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Search = ({searchString, onChange}) => {\n  return (\n    <div>\n      <input\n        placeholder=\"Search by name\"\n        value={searchString}\n        onChange={onChange}\n      />\n    </div>\n  );\n};\n\nexport default Search; ","import React from \"react\";\n\nconst Form = ({handleSubmit,handleInputChange, newPerson}) => {\n  return (\n    <div>\n      <h3>Add new</h3>\n      <form onSubmit={handleSubmit}>\n        <div>\n          <div>\n            name:{\" \"}\n            <input\n              value={newPerson.name}\n              name=\"name\"\n              onChange={handleInputChange}\n            />\n          </div>\n          <div>\n            number:{\" \"}\n            <input\n              value={newPerson.number}\n              name=\"number\"\n              onChange={handleInputChange}\n            />\n          </div>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Form;","import React from 'react';\n\nconst Numbers = ({filteredList, handleClick}) => {\n    const listToShow = filteredList.map( person => {\n      return (\n        <div key={person.id}>\n          {person.name} {person.number}\n          <button onClick={() => handleClick(person.id)}>Delete</button>\n        </div> \n      )\n    })\n\n    return (\n        <div>\n          <h2>Numbers</h2>\n          {listToShow}\n        </div>\n      );\n}\n\nexport default Numbers;\n","import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n    const response = axios.get(baseUrl);\n    return response.then(response => response.data);\n}\n\nconst addPerson = newPerson => {\n    const response = axios.post(baseUrl,newPerson);\n    return response.then(response => response.data);\n}\n\nconst deletePerson = id => {\n    const response = axios.delete(`${baseUrl}/${id}`);\n    return response.then(response => response)\n}\n\nconst updateNumber = (person) => {\n    const response = axios.put(`${baseUrl}/${person.id}`, person)\n    return response.then(response => response.data)\n}\n\nexport default { getAll, addPerson, deletePerson, updateNumber };","import React from 'react';\n\nconst Notification = ({ notification }) => {\n    const msgType = notification.type === 'error' ? 'red' : 'green';\n    const style = {\n        color: msgType,\n        border: `3px solid ${msgType}`,\n        display: 'inline-block',\n        padding: 10,\n        fontStyle: 'italic',\n        fontSize: 16\n    }\n    let messege = notification.msg ? <div style={style}>{ notification.msg }</div> : null;\n    return messege;\n}\n\nexport default Notification;","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport Search from './components/Search'\nimport Form from './components/Form';\nimport Numbers from './components/Numbers';\nimport personsService from './services/persons';\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newPerson, setNewPerson] = useState({ name: \"\", number: \"\" });\n  const [searchString, setSearchString] = useState('');\n  const [eventMsg, setEventMsg] = useState({msg: '', type: ''});\n\n  useEffect( () => {\n\n    personsService.getAll()\n    .then(response => {\n      setPersons(response)\n    })\n    \n  }, [])\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    const person = persons.find(person => person.name.toLowerCase() === newPerson.name.toLowerCase());\n\n    if (!person) {\n      const newItem = { ...newPerson };\n\n      personsService.addPerson(newItem)\n        .then(response => {\n          setPersons(persons.concat(response));\n          setNewPerson({ name: \"\", number: \"\" });\n          setEventMsg({msg: `Added ${response.name}`, type: 'success'})\n          setTimeout(() => {\n            setEventMsg({msg: '', type: ''})\n          }, 5000)\n        })\n    } else {\n\n      if (window.confirm(`${newPerson.name} is already added to the phonebook, replace the old number with a new one?`)) {\n        personsService.updateNumber({...person, number: newPerson.number})\n          .then(response => {\n            const index = persons.findIndex(el => el.id === response.id);\n            let newPersons = [...persons];\n            setEventMsg({msg: `Changed ${response.name}'s number`, type: 'success'});\n            setTimeout(() => {\n              setEventMsg({msg: '', type: ''})\n            }, 5000)\n            newPersons.splice(index,1,response)\n            setPersons(newPersons);\n          })\n          .catch(response => {\n            setEventMsg({msg: `${newPerson.name} has already been removed from the server`, type: 'error'})\n            setTimeout(() => {\n              setEventMsg({msg: '', type: ''})\n            }, 5000)\n          })\n      }\n    }\n  };\n\n  const handleInputChange = event => {\n    setNewPerson({\n      ...newPerson,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const handleSearchChange = event => {\n    setSearchString(event.target.value)\n  }\n\n  const deletePerson = id => {\n    const person = persons.find(person => person.id === id);\n\n    if (window.confirm(`Delete ${person.name}?`)) { \n      personsService.deletePerson(id)\n        .then(response => {\n          setPersons(persons.filter(person => person.id !== id));\n        })\n        .catch(response => {\n          console.log(response)\n        })\n    }\n  }\n\n  const filteredList = persons.filter(person => person.name.toLowerCase().includes(searchString.toLowerCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={eventMsg} />\n      <Search onChange={handleSearchChange} searchString={searchString} /> \n      <Form handleInputChange={handleInputChange} handleSubmit={handleSubmit} newPerson={newPerson}/>\n      <Numbers filteredList={filteredList} handleClick={deletePerson}/>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}