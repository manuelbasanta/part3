{"version":3,"sources":["components/Search.js","components/Form.js","components/Numbers.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Search","searchString","onChange","placeholder","value","Form","handleSubmit","handleInputChange","newPerson","onSubmit","name","number","type","Numbers","filteredList","handleClick","listToShow","map","person","key","id","onClick","baseUrl","axios","get","then","response","data","post","delete","put","console","log","Notification","notification","msgType","style","color","border","display","padding","fontStyle","fontSize","msg","App","useState","persons","setPersons","setNewPerson","setSearchString","eventMsg","setEventMsg","useEffect","personsService","filter","toLowerCase","includes","event","target","e","preventDefault","find","window","confirm","index","findIndex","el","newPersons","setTimeout","splice","catch","error","message","newItem","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.945c0284.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Search = ({searchString, onChange}) => {\n  return (\n    <div>\n      <input\n        placeholder=\"Search by name\"\n        value={searchString}\n        onChange={onChange}\n      />\n    </div>\n  );\n};\n\nexport default Search; ","import React from \"react\";\n\nconst Form = ({handleSubmit,handleInputChange, newPerson}) => {\n  return (\n    <div>\n      <h3>Add new</h3>\n      <form onSubmit={handleSubmit}>\n        <div>\n          <div>\n            name:{\" \"}\n            <input\n              value={newPerson.name}\n              name=\"name\"\n              onChange={handleInputChange}\n            />\n          </div>\n          <div>\n            number:{\" \"}\n            <input\n              value={newPerson.number}\n              name=\"number\"\n              onChange={handleInputChange}\n            />\n          </div>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Form;","import React from 'react';\n\nconst Numbers = ({filteredList, handleClick}) => {\n    const listToShow = filteredList.map( person => {\n      return (\n        <div key={person.id}>\n          {person.name} {person.number}\n          <button onClick={() => handleClick(person.id)}>Delete</button>\n        </div> \n      )\n    })\n\n    return (\n        <div>\n          <h2>Numbers</h2>\n          {listToShow}\n        </div>\n      );\n}\n\nexport default Numbers;\n","import axios from 'axios';\nconst { NODE_ENV } = process.env;\nconst baseUrl = NODE_ENV === 'development' ? 'http://localhost:3001/api/persons' : '/api/persons';\n\nconst getAll = () => {\n    const response = axios.get(baseUrl);\n    return response.then(response => response.data);\n}\n\nconst addPerson = newPerson => {\n    const response = axios.post(baseUrl,newPerson);\n    return response.then(response => response.data);\n}\n\nconst deletePerson = id => {\n    const response = axios.delete(`${baseUrl}/${id}`);\n    return response.then(response => response)\n}\n\nconst updateNumber = (person) => {\n    const response = axios.put(`${baseUrl}/${person.id}`, person)\n    return response.then(response => {\n        console.log(response)\n        return response.data\n    })\n}\n\nexport default { getAll, addPerson, deletePerson, updateNumber };","import React from 'react';\n\nconst Notification = ({ notification }) => {\n    const msgType = notification.type === 'error' ? 'red' : 'green';\n    const style = {\n        color: msgType,\n        border: `3px solid ${msgType}`,\n        display: 'inline-block',\n        padding: 10,\n        fontStyle: 'italic',\n        fontSize: 16\n    }\n    let messege = notification.msg ? <div style={style}>{ notification.msg }</div> : null;\n    return messege;\n}\n\nexport default Notification;","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport Search from './components/Search'\nimport Form from './components/Form';\nimport Numbers from './components/Numbers';\nimport personsService from './services/persons';\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newPerson, setNewPerson] = useState({ name: \"\", number: \"\" });\n  const [searchString, setSearchString] = useState('');\n  const [eventMsg, setEventMsg] = useState({msg: '', type: ''});\n\n  useEffect( () => {\n\n    personsService.getAll()\n    .then(response => {\n      setPersons(response)\n    })\n    \n  }, [])\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    const person = persons.find(person => person.name.toLowerCase() === newPerson.name.toLowerCase());\n\n    if (!person) {\n      const newItem = { ...newPerson };\n\n      personsService.addPerson(newItem)\n        .then(response => {\n          setPersons(persons.concat(response));\n          setNewPerson({ name: \"\", number: \"\" });\n          setEventMsg({msg: `Added ${response.name}`, type: 'success'})\n          setTimeout(() => {\n            setEventMsg({msg: '', type: ''})\n          }, 5000)\n        })\n        .catch(error => {\n          console.log(error.response.data)\n          setEventMsg({msg: error.response.data.message, type: 'error'})\n          setTimeout(() => {\n            setEventMsg({msg: '', type: ''})\n          }, 5000)\n        })\n    } else {\n\n      if (window.confirm(`${newPerson.name} is already added to the phonebook, replace the old number with a new one?`)) {\n        personsService.updateNumber({...person, number: newPerson.number})\n          .then(response => {\n            const index = persons.findIndex(el => el.id === response.id);\n            let newPersons = [...persons];\n            setEventMsg({msg: `Changed ${response.name}'s number`, type: 'success'});\n            setTimeout(() => {\n              setEventMsg({msg: '', type: ''})\n            }, 5000)\n            newPersons.splice(index,1,response)\n            setPersons(newPersons);\n          })\n          .catch(error => {\n            console.log(error.response.data)\n            setEventMsg({msg: error.response.data.message, type: 'error'})\n            setTimeout(() => {\n              setEventMsg({msg: '', type: ''})\n            }, 5000)\n          })\n      }\n    }\n  };\n\n  const handleInputChange = event => {\n    setNewPerson({\n      ...newPerson,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const handleSearchChange = event => {\n    setSearchString(event.target.value)\n  }\n\n  const deletePerson = id => {\n    const person = persons.find(person => person.id === id);\n\n    if (window.confirm(`Delete ${person.name}?`)) { \n      personsService.deletePerson(id)\n        .then(response => {\n          setPersons(persons.filter(person => person.id !== id));\n        })\n        .catch(response => {\n          console.log(response)\n        })\n    }\n  }\n\n  const filteredList = persons.filter(person => person.name.toLowerCase().includes(searchString.toLowerCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={eventMsg} />\n      <Search onChange={handleSearchChange} searchString={searchString} /> \n      <Form handleInputChange={handleInputChange} handleSubmit={handleSubmit} newPerson={newPerson}/>\n      <Numbers filteredList={filteredList} handleClick={deletePerson}/>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}